<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>신청목록</title>
<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
 <!-- Custom CSS -->
    <link href="../bower_components/css/agency.css" rel="stylesheet">
    
    <!-- Custom Fonts -->
    <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
    
     <script src="jquery.modal.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>

<div class="container">
<h1>신청목록</h1>
<table id='requestTable' class="table table-condensed">
  
<thead>
<tr>
<th>번호</th> 
  <th>신청인</th>
  <th>신청날짜</th>
  <th>상태</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
    <footer>
        <div class="container" class="bg-light-gray">
            <div class="row">
                <div class="col-md-4">
                    <span class="copyright">Copyright &copy; 산책할개 2016</span>
                </div>
            </div>
        </div>
    </footer>
<script src="../bower_components/jquery/dist/jquery.js"></script>
<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../bower_components/handlebars/handlebars.min.js"></script>


<script id="temp1" type="text/x-handlebars-template">
{{#each list}}
<tr>
  <td>{{req}}</td>
  <td><a href="#" onclick="onclickDetail(event)" data-no="{{req}}">{{name}}</a></td>
  <td>{{date}}</td>
  <td>{{stat}}</td>
</tr>
{{/each}}
</script>
<script>
loadBoardList();

function loadBoardList() {
  $.getJSON("../ajax/request/petrequestlist.do", function(result) {
      var templateData = $('#temp1').html(); 
      var template = Handlebars.compile(templateData);
      var html = template(result);  
      $("#requestTable tbody").append(html);
  });
}
/* function gotoRequest(event) {
  if (sessionStorage.getItem("login") == "success") {
    var pno = location.href.split("=")[1]; 
    location.href = "../main/requeDetail.html?no=" + pno;
  } else {
    window.alert("로그인 해야 이용할 수 있습니다.");
  }
  event.preventDefault();
} */
// 태그에 선언된 onclick 속성에서 호출한 것이기 때문에
// 다음 함수는 이벤트 리스너가 아니다.
function onclickDetail(event) {  
  location.href = "requeDetail.html?req=" + event.target.getAttribute("data-no");
  event.preventDefault(); // 원래 a 태그의 행위를 막는다.
}
</script>


</body>
</html>