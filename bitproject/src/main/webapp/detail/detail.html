<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>산책할개</title>
<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="../headerStyle.css">
<link rel="stylesheet" type="text/css" href="../footerStyle.css">
<link rel="stylesheet"   href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="//apis.daum.net/maps/maps3.js?apikey=7ae134637aef8f4bb01892e30a801547"></script>
<script src="../bower_components/handlebars/handlebars.min.js"></script>
<style type="text/css">
body {
  margin-left : 20px; 
  margin-right : 20px;
}

#inbody {
  background-color: #f7f7f7 ;
}

#container {
  padding-bottom: 150px;
  padding-top: 150px;
}
.review {
  font-weight : bold;
  margin-bottom: 10px;
  margin-left: 0px;
  border: 1px solid black;
  padding: 10px;
  width: auto;
}

#moveBtn {
  display: table;
  margin-left: auto;
  margin-right: auto;
}

#back {
  text-align : right;
  margin-top: -60px;
}
#titlesen {
  font-size: 32px;
  font-weight: bold;
}
#info, #intro {
  font-size : 20px;
  font-weight: bold;
}
.inner {
  border: 1px solid black;
}
.detail, #introsen, #profileinfo, #d1, #d2{
  display: inline-block;
  font-size: 15px;
}
.detail {
  margin:0 auto;
  vertical-align: middle;
}

#picture {
  text-align: center;
  margin-bottom: 25px;
}

#writeReview {
  font-size : 20px;
  font-weight: bold;
  margin-bottom: 5px;
}

#d1 {
  height : 300px;
  border-radius : 10px 0px 0px 10px;
  border: 2px dotted gray;
  padding: 10px;
  float : left;
  text-align : left;
  width: 300px;
  margin-right: 10px;
  background-color: white;
  display : inline-block;
}
#d2 {
  float : left;
  background-color : white;
  display : inline-block;
  text-align : left;
  height : 300px;
  width: 300px;
  border-radius : 0px 10px 10px 0px;
  border: 2px dotted gray;
  padding: 10px;
}
#d {  
  display: table;
  text-align: center;
  height : 300px;
  width: auto;
  margin: 0 auto;
}
#profileinfo {
  border-radius : 10px;
  background-color : white;
  padding: 10px;
}
#introsen{
background-color : white;
  width : 400px;
  border-radius : 10px;
  padding: 10px;
}
#photo  {
  border-radius : 10px;
  height: 400px;
  margin-right: 30px;
}
#wrap {
  text-align: center;
}
#infomation {
  text-align: left;
}
.detailtext {
  text-align: left;
  font-size: 40px;
  font-style: oblique;
  font-weight: bold;
  margin: 40px;
}
#bodycontent {
  width : 1100px;
  margin: 0 auto;
}
#views {
  border-radius : 3px ;
  border: none;
  width : 130px;
  box-shadow : 1px 1px 3px;
}
#backbtn, #gotoRequest {
  margin-bottom: 10px;
}
#setlike {
  text-align: right;
  margin-top: -30px;
}
#setlike2 {
  text-align: left;
  margin-top: -12px;
}
.form-control {
  margin-bottom: 40px;
}
ol {
  margin-bottom: 25px;
}
.map_wrap{
  text-align: center;
}
#map {
  margin-left: auto;
  margin-right: auto;
	width:60%;
  height:400px;
}
#addr {
  text-align:left;
  width:57%;
}
#heart {
  width:40px;
  height:35px;
  cursor: pointer;
}
#login {
  margin-right: 10px;
}
</style>
</head>
<body>
	<div id="inbody">
		<div id="topbanner">
			<div id="topbar">
				<p id="topbar_logo">
					<a href="#" onclick="goMain(event)"><img class="logo"
						src="../img/로고.PNG"></a>
				</p>
        <p id="topbar_button">
          <button id="signup" type="button" class="btn btn-default">회원가입</button>
          <button id="login" type="button" class="btn btn-default">로그인</button>
        </p>
			</div>
		</div>
		<div id="container">
			<div id="bodycontent">
				<span> 
				  <span id="titlesen"></span><br>
					<span id="subtitlesen"></span>
				</span>
				<div id="back">
					<button type="button" id="gotoRequest" onclick="gotoRequest()"
						class="btn btn-default">신청</button>
					<button type="button" id="backbtn" class="btn btn-default">이전화면</button>
					<br> <input type="text" id="views" readonly="readonly">
				</div>

				<hr class="inner">
				<div id="wrap">
					<div class="detail">
						<img id='photo'>
					</div>
					<div id="infomation" class="detail">
						<span id="info">프로필 정보</span><br>
						<div id="profileinfo">
							이름 : <span id="name"></span> <br>
							<p id="setlike">
								<img  id="heart" data-state="before"  src="../img/detail/beforelike.png">
								<span id="like"></span><br>
							</p>
							<p id="setlike2">
								나이 : <span id="age"></span><br> 
								펫/하루 당 가격 : <span id="price"></span><br>
								인증정보 : <img id="confirm"><br> 
								신뢰등급 : <img id="trust"><br>
							<p>
						</div>
						<br> 
						<br> 
						<span id="intro">자기 소개</span><br>
						<p id="introsen">
						</p>
					</div>
				</div>

				<hr class="inner">

				<p class="detailtext">상세정보</p>
				<br>
				<div id="d">
					<p id="d1">
						★ 펫시터 유형<br> 
						- <span id="type"></span><br> 
						★ 거주지 주소<br> 
						- <span id="addr"></span><br> 
						★ 인근 동물병원 위치<br> 
						- <span id="hospital"></span><br> 
						★ 펫시터의 반려동물<br> 
						- <span id="pet"></span><br> 
						★ 펫시터 경력<br> 
						- <span id="career"></span><br> 

					</p>
					<p id="d2">
						★ 시터링 동물<br> 
						- <span id="animal"></span><br> 
						★ 1일 최대 위탁가능<br>
						- <span id="max"></span><br> 
						★ 문의 가능 시간대<br> 
						- <span id="inqur"></span><br> 
            ★ 추가 서비스<br> 
            - <span id="service"></span><br>
						★ 준비물<br>
						- <span id="need"></span><br>
					</p>
				</div>
				<p class="detailtext">산 책 범 위</p> 
				<div class="map_wrap">
					주소:<input type="text" id="addr" readonly="readonly"/><br>
	 	       <div id="map"></div> 
   		  </div>
				
				<br>
				  <p class="detailtext">사 진</p> 
				<div id="picture">
				</div>
			<div id="review">
				<p class="detailtext">후기</p>
				<ol id="reviewtext"></ol>
		    <div id='moveBtn'>
		      <button class='moveBtn' class="btn btn-info" type="button">〈〈</button>
		      <button class='moveBtn' class="btn btn-info" type="button">1</button>
		      <button class='moveBtn' class="btn btn-info" type="button">2</button>
		      <button class='moveBtn' class="btn btn-info" type="button">〉〉</button>
		    </div>
				<span id="writeReview">후기 남기기</span>
				<input type="text" class="form-control" placeholder="후기를 남겨주세요.">
	    </div>
			</div>
		</div>
	</div>
    <footer>
    
        <a href="#" onclick="goMain(event)"> <img class="logofooter"
          src="../img/로고.PNG"></a>
    
      <p id="copyright" class="footer">
        <br> 이 사이트의 모든 권한은 자바 80기에 있습니다.<br> 비트캠프 | 사업자등록번호: <span
          id="compno">214-85-24928</span> |(주)비트교육센터 서초지점 대표 조현정<br>
        전화번호: 02)3486-9600 | 팩스: 02)6007-1245 | 메일: bit@bitacademy.net <br>
        사업장 소재지 : 서울시 서초구 서초동 1327-15번지 비트아카데미 빌딩 3층
      </p>
    </footer>
    
  <script id="imgrepeat" type="text/x-handlebars-template">
  {{#each imglist}}
    <img src={{img}} width="800">
    <br>
    <br>
  {{/each}}
  </script>
  
  <script id="reviewrepeat" type="text/x-handlebars-template">
  {{#each reviewlist}}
    <li class="review">{{review}}
  {{/each}}
  </script>
  
	<script type="text/javascript">
	//
	$(function(){
		$.ajax({
			url:"detail.json",
			dataType:"json",
			success:function(result) {
		      $("#titlesen").html(result.title);
		      $("#subtitlesen").html(result.subtitle);
		      $("#photo").attr('src',result.photo);
		      $("#like").html(result.like);
		      $("#name").html(result.name);
		      $("#age").html(result.age);
		      $("#price").html(result.price);
		      $("#confirm").attr('src',result.confirm);
		      $("#trust").attr('src',result.trust);
		      $("#introsen").html(result.intro);
		      $("#type").html(result.type);
		      $("#addr").html(result.addr);
		      $("#hospital").html(result.hospital);
		      $("#pet").html(result.pet);
		      $("#service").html(result.service);
		      $("#career").html(result.career);
		      $("#animal").html(result.animal);
		      $("#max").html(result.max);
		      $("#inqur").html(result.inqur);
		      $("#need").html(result.need);
		      $("#views").val("조회수 : "+result.views);
		      
		      var templateData = $("#imgrepeat").html();
          var template = Handlebars.compile(templateData);
          var html = template(result);
          $("#picture").append(html);
          
          var templateData = $("#reviewrepeat").html();
          var template = Handlebars.compile(templateData);
          var html = template(result);
          $("#reviewtext").append(html);
          
		    }
		})
	});
    //****************************************************************************
    // 다음 지도 API 키 :7ae134637aef8f4bb01892e30a801547
      var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
         mapOption = { 
           center: new daum.maps.LatLng(37.5196784,127.1201637,17), // 지도의 중심좌표
           level: 5 // 지도의 확대 레벨
         };

      // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
      var map = new daum.maps.Map(mapContainer, mapOption); 
      var zoomControl = new daum.maps.ZoomControl();
      map.addControl(zoomControl, daum.maps.ControlPosition.RIGHT);
      var mapTypeControl = new daum.maps.MapTypeControl();
      map.addControl(mapTypeControl, daum.maps.ControlPosition.TOPRIGHT);

    //****************************************************************************
    var circle = new daum.maps.Circle({
      center : new daum.maps.LatLng(37.5196784,127.1201637,17),  // 원의 중심좌표 입니다 
      radius: 500, // 미터 단위의 원의 반지름입니다 
      strokeWeight: 5, // 선의 두께입니다 
      strokeColor: '#75B8FA', // 선의 색깔입니다
      strokeOpacity: 1, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
      strokeStyle: 'solid', // 선의 스타일 입니다
      fillColor: '#CFE7FF', // 채우기 색깔입니다
      fillOpacity: 0.5  // 채우기 불투명도 입니다   
    }); 
    
    // 지도에 원을 표시합니다 
    circle.setMap(map); 

    //****************************************************************************

    //<img  id="heart" data-state="before"  src="../img/detail/beforelike.png">
	  var heart = document.getElementById("heart");
	  heart.onclick = function() {
      var state = heart.getAttribute("data-state");
      if (state == "before") {
    	  heart.setAttribute("src", "../img/detail/like.jpg");
    	  heart.setAttribute("data-state", "after");
    	  $("#like").html($("#like").html() * 1 + 1);
      } else {
    	  heart.setAttribute("data-state", "before");
    	  heart.setAttribute("src", "../img/detail/beforelike.png");
    	  $("#like").html($("#like").html() * 1 - 1);
      }
    }
  
	
		function gotoRequest(event) {
			location.href = "../request/request.html"
			event.preventDefault();
		}

		function goMain(event) {
			location.href = "../main/maintest.html"
			event.preventDefault();
		}
		
		$("#login").click(function() {
			location.href = "../mypage/mypage.html"
			event.preventDefault();
		});
		$("#signup").click(function() {
			location.href = "../signup/signup.html"
		  event.preventDefault();
		})

	</script>

</body>
</html>