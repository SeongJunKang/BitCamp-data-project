<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bitcamp.pet.dao.PetSitterDao">
	<resultMap type="PetSitter" id="PetSitterMap">
		<id column="PNO" property="pno" />
		<result column="NICK" property="nick" />
		<result column="AMT" property="amt" />
		<result column="KTALK" property="ktalk" />
    <result column="BANK" property="bank" />
    <result column="BKNM" property="bknm" />
    <result column="ACC" property="acc" />
    <result column="SER" property="ser" />
    <result column="INQUR" property="inqur" />
    <result column="PET" property="pet" />
    <result column="ADDR_1" property="addr_1" />
    <result column="ADDR_2" property="addr_2" />
    <result column="RAD" property="rad" />
    <result column="LAT" property="lat" />
    <result column="LNT" property="lnt" />
    <result column="INTRO" property="intro" />
    <result column="REG" property="region" />
    <!-- 
    <result column="LIKES" property="amt" />
    <result column="PETG" property="name" />
     -->
	</resultMap>
	
	<insert id="insert" parameterType="PetSitter">
		insert into PETSITTER(PNO,NICK,AMT,KTALK,BANK,BKNM,ACC,SER,INQUR,PET,ADDR_1,ADDR_2,INTRO,RAD,LAT,LNT,REG)
		values(#{pno},#{nick},#{amt},#{ktalk},#{bank},#{bknm},#{acc},#{ser},#{inqur},#{pet},#{addr_1},#{addr_2},#{intro},#{rad},#{lat},#{lnt},#{region})
	</insert>
	
	<update id="update" parameterType="PetSitter">
		update PETSITTER set
		NICK=#{nick},
		where PNO=#{pno}
	</update>
	<delete id="delete" parameterType="int">
		delete from PETSITTER
		where PNO=#{pno}
	</delete>
	<select id="selectList" resultMap="PetSitterMap" parameterType="map">
		select PNO,NICK,AMT,KTALK,BANK,BKNM,ACC,SER,INQUR,PET,ADDR_1,ADDR_2,INTRO,RAD,LAT,LNT,REG from PETSITTER
		order by PNO DESC
    limit #{startIndex}, #{length}
	</select>
	<select id="selectOne" parameterType="map" resultMap="PetSitterMap">
	   select PNO,NICK,AMT,KTALK,BANK,BKNM,ACC,SER,INQUR,PET,ADDR_1,ADDR_2,INTRO,RAD,LAT,LNT,REG from PETSITTER
	   where
	   <if test="pno != null">
	   PNO=#{pno}
	   </if>
	   <if test="kakao != null">
	   KTALK=#{ktalk}
	   </if>
	</select>
  <select id="countAll" resultType="int">
    select count(*) from PetSitter
  </select>
</mapper>












